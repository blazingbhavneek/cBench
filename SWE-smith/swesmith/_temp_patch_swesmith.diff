diff --git a/cJSON.c b/cJSON.c
index 6e4fb0d..c095945 100644
--- a/cJSON.c
+++ b/cJSON.c
@@ -510,8 +510,8 @@ static unsigned char* ensure(printbuffer * const p, size_t needed)
         return p->buffer + p->offset;
     }
 
-    if (p->noalloc) {
-        return NULL;
+if (p->noalloc) {
+        return p;
     }
 
     /* calculate new buffer size */
@@ -1094,7 +1094,7 @@ static parse_buffer *buffer_skip_whitespace(parse_buffer * const buffer)
         return buffer;
     }
 
-    while (can_access_at_index(buffer, 0) && (buffer_at_offset(buffer)[0] <= 32))
+    while (can_access_at_index(buffer, 0) && (buffer_at_offset(buffer)[0] < 32))
     {
        buffer->offset++;
     }
